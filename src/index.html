<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="engine/public/css/bootstrap.css" type="text/css"/>
	<link rel="stylesheet" href="engine/public/css/font-awesome.min.css" type="text/css"/>
	<script src="engine/public/js/aes.js" type="text/javascript"></script>
	<script src="engine/public/js/config.js" type="text/javascript"></script>
	<script src="engine/public/js/jquery-2.1.1.min.js" type="text/javascript"></script>
	<script src="engine/public/js/jquery.hotkeys.js" type="text/javascript"></script>
	<script src="engine/public/js/jquery.linkify.min.js" type="text/javascript"></script>
	<script src="engine/public/js/functions.js" type="text/javascript"></script>
	<script src="engine/public/js/bootstrap.js" type="text/javascript"></script>
	<script src="engine/public/js/window.js" type="text/javascript"></script>
	<script src="engine/public/js/ajax.js" type="text/javascript"></script>
	<script src="engine/public/js/jsOAuth-1.1.js" type="text/javascript"></script>
	<script src="engine/public/js/twitter.js" type="text/javascript"></script>
	<script src="engine/public/js/screenshot.js" type="text/javascript"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			window.reply=false;
			$("#tweet-send").bind('keydown', 'ctrl+return', function() {
				tryToPost("tweet-send-button");
			});
			$("#tweet-send").bind('keydown', 'enter', function() {
				tryToPost("tweet-send-button");
			});
			$("#tweet-send").bind('keydown', 'ctrl+c', resetCharLimit);
		});
	</script>
	<style>
		html {
			background: url('engine/public/img/tweet_home.jpg') fixed #333;
			background-size: cover;
		}
		body {
			background: transparent;
			color: #FFF;
			text-shadow: 1px 1px 5px rgba(0,0,0,0.3);
		}
		a {
			color: #CCC !important;
		}
		.item {
			background: rgba(0,0,0,0.6);
			padding: 15px;
			margin-bottom: 15px;
		}
	</style>
</head>
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation" style="background: rgba(0,0,0,0.55);border-bottom:1px solid #000;border-radius:none !important;box-shadow:0px 0px 5px rgba(0,0,0,0.2);">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#"><sub>v</sub>Tweet</a>
    </div>
    <div class="collapse navbar-collapse">
		<ul class="nav navbar-nav navbar-right">
				<li><a href="#id=null&action=clear"><i class="fa fa-times"></i> Clear</a></li>
				<li><a href="#" onclick="initStream();"><i class="fa fa-refresh"></i> Reload Stream</a></li>
				<li><a href="#" onclick="logout();"><i class="fa fa-lock"></i> Logout</a></li>
				<li><a id="char-left" href="#">0</a></li>
      	</ul>
    </div>
  </div>
</nav>
	<body style="margin-top:60px;">
		<div id="tweet-ctr" class="tweet container">
		</div>
		
		<!-- Footer -->
			<div style='bottom: 0px; position: fixed;'>
				<div class="input-group">
					<input id="tweet-send" type="text" class="form-control" style="border-radius: 0 !important;" placeholder="Tweet tweet?">
					<span class="input-group-btn">
						<button id='tweet-send-button' onclick="statusFunc()" class="btn btn-default"  style="border-radius: 0 !important;" type="button" focus><i class="fa fa-twitter"></i></button>
					</span>
				</div>
			</div>
		<script type="text/javascript">
		function statusFunc() {
			doLoadThing("tweet-send-button");
			document.getElementById('tweet-send-button').innerHTML="<i class='fa fa-twitter'></i>";
			if(window.reply===true) {
				var id = window.tweetid;
				var status = document.getElementById("tweet-send").value;
				doReply(id, status);
				document.getElementById("tweet-send").value="";
				console.log("[main] statusFunc: window.reply set too false");
				window.reply = false;
			} else {
				var status = document.getElementById("tweet-send").value;
				postStatus(status);
				document.getElementById("tweet-send").value="";
			}
		}
		</script>
		<script type="text/javascript">initStream();</script>
		<script>
			var limit = 140;
			var txt =  $('input[id$=tweet-send]');
			$('#char-left').text(limit+" characters left~");
			$(txt).keypress(function() {
				var len = $(this).val().length;
				if (len > limit) {
					//this.value = this.value.substring(0, 50);
					$(this).addClass('goRed');
					$('#char-left').text(len - limit + " characters exceeded.. please type less! (╯°□°）╯︵ ┻━┻");
					return false;
				} else {
					$(this).removeClass('goRed');
					$('#char-left').text(limit - len + " characters left~");
				}
			});
		</script>
	</body>
</html>