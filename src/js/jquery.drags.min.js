!function(e){e.fn.drags=function(a){if(a=e.extend({handle:"",cursor:"move"},a),""===a.handle)var s=this;else var s=this.find(a.handle);return s.css("cursor",a.cursor).on("mousedown",function(s){if(""===a.handle)var n=e(this).addClass("draggable");else var n=e(this).addClass("active-handle").parent().addClass("draggable");var t=n.css("z-index"),o=n.outerHeight(),r=n.outerWidth(),d=n.offset().top+o-s.pageY,l=n.offset().left+r-s.pageX;n.css("z-index",1e3).parents().on("mousemove",function(a){e(".draggable").offset({top:a.pageY+d-o,left:a.pageX+l-r}).on("mouseup",function(){e(this).removeClass("draggable").css("z-index",t)})}),s.preventDefault()}).on("mouseup",function(){""===a.handle?e(this).removeClass("draggable"):e(this).removeClass("active-handle").parent().removeClass("draggable")})}}(jQuery);